webpackJsonp([4],{100:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return o.default.use(i.default),new i.default.Store({state:l.default,mutations:d.default,actions:m.default,getters:h.default})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var u=n(1),o=a(u),s=n(243),i=a(s),c=n(164),l=a(c),f=n(163),d=a(f),p=n(161),m=a(p),v=n(162),h=a(v)},102:function(e,t){},103:function(e,t){},104:function(e,t){},105:function(e,t){},109:function(e,t,n){"use strict";function a(e){n(224)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(154),u=n.n(r),o=n(239),s=n(24),i=a,c=s(u.a,o.a,!1,i,"data-v-5b27b1c1",null);t.default=c.exports},154:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},155:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(57),u=a(r),o=n(56),s=a(o),i=n(65);t.default={name:"header",data:function(){return{userInfo:{name:""}}},computed:{isCollapse:function(){return!!this.$store.state.appLayoutMenuCollapse},projectName:function(){return this.$store.state.projectName}},methods:{logout:function(){function e(){return t.apply(this,arguments)}var t=(0,s.default)(u.default.mark(function e(){var t;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$confirm("您确认登出当前账号吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"});case 3:return e.prev=3,e.next=6,this.axios.get(i.auth.logout);case 6:t=e.sent,t&&t.data&&(location.href=t.data.url),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),this.$message({message:"登出异常",type:"warning"});case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),console.error(e.t1);case 19:case"end":return e.stop()}},e,this,[[0,16],[3,10]])}));return e}(),getUserInfo:function(){function e(){return t.apply(this,arguments)}var t=(0,s.default)(u.default.mark(function e(){var t;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axios.get(i.auth.user);case 3:t=e.sent,t&&t.data&&(t.data.loginUrl&&""!=t.data.loginUrl&&(location.href=t.data.loginUrl),this.userInfo.name=t.data.username||"某某",this.userInfo.avatar=t.data.avatar),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),this.userInfo.name="某某",console.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return e}(),collapse:function(){this.$store.commit("setAppLayoutMenuCollapse",!this.isCollapse),localStorage.setItem("appLayoutMenuCollapse",this.isCollapse)}},mounted:function(){this.getUserInfo();var e=localStorage.getItem("appLayoutMenuCollapse");this.$store.commit("setAppLayoutMenuCollapse",JSON.parse(e||"false"))}}},156:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"menu",data:function(){return{openPath:""}},computed:{menuData:function(){var e=this.$store.state.routeItem,t=[];return e.forEach(function(e){if(Array.isArray(e.children)&&e.children.length){var n={title:e.title,icon:e.icon,children:[]};e.children.forEach(function(e){!1!==JSON.parse(e.icon||"{}").show&&n.children.push(e)}),n.children.length&&t.push(n)}}),t},isCollapse:function(){return!!this.$store.state.appLayoutMenuCollapse}},methods:{menuSelect:function(e){},menuClick:function(e){var t=e.name;console.log(this.openPath,t),this.openPath===t&&location.reload(),this.openPath=t}},mounted:function(){this.openPath=this.$route.path.replace("/","")}}},157:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(235),u=a(r),o=n(236),s=a(o);t.default={name:"main",computed:{isCollapse:function(){return!!this.$store.state.appLayoutMenuCollapse},isIframeEmbed:function(){return this.$store.getters.isIframeEmbed},isIframeOuter:function(){return this.$store.state.isIframeOuter},iframeOuterUrl:function(){return this.$store.state.iframeOuterUrl}},components:{layoutHeader:u.default,layoutMenu:s.default},mounted:function(){window.addEventListener("message",function(e){var t=e.origin,n=e.data;e.currentTarget;t!==location.origin&&(0===n.indexOf("location.href:")?location.href=n.replace("location.href:",""):0===n.indexOf("window.open:")&&window.open(n.replace("window.open:","")))},!1)}}},158:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(1),u=a(r),o=n(109),s=a(o),i=n(101),c=a(i);n(102),n(105),n(104);var l=n(106),f=a(l);n(103);var d=n(32),p=a(d),m=n(107),v=a(m),h=n(108),_=a(h);n(98);var y=n(99),b=a(y),M=n(100),O=a(M);u.default.use(c.default),u.default.use(_.default),u.default.use(v.default,p.default),u.default.config.productionTip=!1;var g=(0,O.default)(),I=(0,b.default)({store:g,NProgress:f.default});new u.default({router:I,store:g,render:function(e){return e(s.default)}}).$mount("#app")},159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(96),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=[{path:"/example",meta:{name:"example"},component:r.default,children:[{name:"example",path:"/",component:function(e){return n.e(1).then(function(){var t=[n(247)];e.apply(null,t)}.bind(this)).catch(n.oe)}}]}]},160:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notFoundRouter=void 0;var a=n(96),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=[{path:"/(about)?",meta:{name:"about"},component:r.default,children:[{name:"about",path:"/",component:function(e){return n.e(0).then(function(){var t=[n(246)];e.apply(null,t)}.bind(this)).catch(n.oe)}}]}];t.notFoundRouter={path:"*",name:"NoFound",component:function(e){return n.e(2).then(function(){var t=[n(248)];e.apply(null,t)}.bind(this)).catch(n.oe)}}},161:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(57),u=a(r),o=n(56),s=a(o),i=n(32),c=a(i),l=n(65);t.default={setRouteItemAsync:function(){function e(e){return t.apply(this,arguments)}var t=(0,s.default)(u.default.mark(function e(t){var n,a,r=t.commit;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,c.default.get(l.auth.menu);case 4:a=e.sent,a&&a.data&&(n=a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:r("setRouteItem",n),r("setRouteDone",!0);case 13:case"end":return e.stop()}},e,this,[[1,8]])}));return e}()}},162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={setRouteItem:function(e,t){e.routeItem=t},setRouteDone:function(e,t){e.routeDone=!0},setRouteUrlMeta:function(e,t){e.routeUrlMeta=t},isIframeOuter:function(e,t){e.isIframeOuter=t},setIframeOuterUrl:function(e,t){e.iframeOuterUrl=t},setAppLayoutMenuCollapse:function(e,t){e.appLayoutMenuCollapse=t}}},164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={project:"vue-admin-front",projectName:"vue-admin",routeItem:[],routeDone:!1,routeUrlMeta:{},isIframeOuter:!1,iframeOuterUrl:"",appLayoutMenuCollapse:!1}},222:function(e,t){},223:function(e,t){},224:function(e,t){},225:function(e,t){},235:function(e,t,n){"use strict";function a(e){n(225)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(155),u=n.n(r),o=n(240),s=n(24),i=a,c=s(u.a,o.a,!1,i,"data-v-9ccb23d2",null);t.default=c.exports},236:function(e,t,n){"use strict";function a(e){n(222)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(156),u=n.n(r),o=n(237),s=n(24),i=a,c=s(u.a,o.a,!1,i,"data-v-2b6ad7da",null);t.default=c.exports},237:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{staticClass:"layout-menu",attrs:{router:!0,"default-active":e.$route.path.replace("/",""),collapse:e.isCollapse},on:{select:e.menuSelect}},e._l(e.menuData,function(t,a){return t.children?n("el-submenu",{key:a,attrs:{index:a+""}},[n("template",{slot:"title"},[n("i",{class:["el-icon",t.icon||"el-icon-menu"]}),e._v(" "),n("span",{staticClass:"submenu-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])]),e._v(" "),e._l(t.children,function(t,a){return n("el-menu-item",{key:a,attrs:{index:t.name,route:{path:"/"+t.name}},nativeOn:{click:function(n){e.menuClick(t)}}},[e._v(e._s(t.title))])})],2):e._e()}))},r=[],u={render:a,staticRenderFns:r};t.a=u},238:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"main"}},[e.isIframeEmbed?e._e():n("layoutHeader"),e._v(" "),n("div",{class:["container",e.isIframeEmbed?"iframe-embed":"",e.isIframeOuter?"iframe-outer":""]},[e.isIframeEmbed?e._e():n("aside",{class:["menu",e.isCollapse?"collapse":""]},[n("layoutMenu")],1),e._v(" "),n("section",{class:["main",e.isCollapse?"collapse":""]},[e.isIframeOuter?e._e():n("router-view"),e._v(" "),e.isIframeOuter?n("iframe",{staticClass:"iframe-wrap",attrs:{src:e.iframeOuterUrl}}):e._e()],1)])],1)},r=[],u={render:a,staticRenderFns:r};t.a=u},239:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],u={render:a,staticRenderFns:r};t.a=u},240:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"header"},[n("div",{staticClass:"logo"},[n("span",{class:{collapse:e.isCollapse}},[e._v(e._s(e.projectName))]),e._v(" "),n("i",{staticClass:"icon el-icon-android-menu",on:{click:e.collapse}})]),e._v(" "),n("div",{staticClass:"userinfo"},[n("el-dropdown",{attrs:{trigger:"hover"}},[n("span",{staticClass:"el-dropdown-link userinfo-inner"},[e._v("\n        "+e._s(e.userInfo.name)+"\n        "),e.userInfo.avatar?n("i",{staticClass:"avatar",style:{backgroundImage:"url("+e.userInfo.avatar+")"}},[e._v(" ")]):n("i",{staticClass:"avatar"},[e._v(e._s(e.userInfo.name[0]))])]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[e._v("我")]),e._v(" "),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)])},r=[],u={render:a,staticRenderFns:r};t.a=u},65:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.auth={menu:"/home/getmenu",user:"/home/getuser",logout:"/home/logout"}},96:function(e,t,n){"use strict";function a(e){n(223)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(157),u=n.n(r),o=n(238),s=n(24),i=a,c=s(u.a,o.a,!1,i,"data-v-3b10dcca",null);t.default=c.exports},98:function(e,t,n){"use strict";var a=n(32);(function(e){return e&&e.__esModule?e:{default:e}})(a).default.interceptors.response.use(function(e){return e})},99:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.store,n=e.NProgress;c.default.use(f.default);var a=new f.default({scrollBehavior:function(){return{y:100}},routes:v.default});return a.beforeEach(function(e,r,u){if(n.start(),t.state.routeDone){if("NoFound"===e.name){var s=e.path.replace("/",""),i=t.state.routeUrlMeta[s];if(i&&i.project!==t.state.project){t.commit("isIframeOuter",!0);var c=i.href+"?"+p.default.stringify(e.query)||"/"+i.project+"/#"+e.fullPath;return t.commit("setIframeOuterUrl",c),u()}}t.commit("isIframeOuter",!1),u()}else t.dispatch("setRouteItemAsync").then(function(){var n=[],r={};t.state.routeItem.forEach(function(e,t){(e.children||[]).forEach(function(e,t){if(n.push(e.name),e.icon){var a=JSON.parse(e.icon||"{}");r[e.name]={name:e.name,project:a.project,href:e.href}}})}),t.commit("setRouteUrlMeta",r);var s=[];_.default.forEach(function(e,t){e.meta&&e.meta.name&&n.indexOf(e.meta.name)>-1&&s.push(e)}),s.push(m.notFoundRouter),a.addRoutes(s),u((0,o.default)({},e))}).catch(function(){a.addRoutes([m.notFoundRouter])})}),a.afterEach(function(){n.done()}),a}Object.defineProperty(t,"__esModule",{value:!0});var u=n(35),o=a(u),s=n(111);a(s);t.default=r;var i=n(1),c=a(i),l=n(241),f=a(l),d=n(227),p=a(d),m=n(160),v=a(m),h=n(159),_=a(h)}},[158]);
//# sourceMappingURL=app.5046459facc3c2439379.js.map